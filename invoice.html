<!DOCTYPE html>
<html>
<head>
  <title>Invoice</title>
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
</head>
<body>

<h1>Nexus Viet Logistics</h1>

<div id="invoice"></div>
<div id="qrcode"></div>

<div style="margin-top:20px; font-size:12px;">
  Nexus Viet Air Cargo<br>
  09 444 679 446<br>
  info@nexusgroupmyanmar.com<br>
  No 9, 3A, Myintmo Street, Sanchaung, Yangon, Myanmar.
</div>

<br>
<button onclick="window.print()">Print</button>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbwoyNzupluztEPyAKdm7jhu8RA-VZkBZ-dBb9Iyu6gDK0oEn_6DMrJgg5SQ6_GA_0wk/exec";
const tracking = new URLSearchParams(window.location.search).get("tracking");

fetch(API_URL + "?tracking=" + tracking)
  .then(r => r.json())
  .then(d => {

    invoice.innerHTML = `
      <b>Invoice Number:</b> ${d.invoice_no}<br>
      
      <b>Tracking Number:</b> ${d.tracking_no}<br>
      
      <b>Sender Name:</b> ${d.sender_name}<br>
      
      <b>Route:</b> ${d.route}<br>
      
      <b>Weight (KG):</b> ${d.weight_kg}<br>
      
      <b>Total:</b> ${d.total_mmk} MMK / ${d.total_vnd} VND
    `;

    new QRCode(document.getElementById("qrcode"), {
      text: "https://track.nexusgroupmyanmar.com/track.html?tracking=" + d.tracking_no,
      width: 150,
      height: 150
    });
  });
</script>

</body>
</html>
