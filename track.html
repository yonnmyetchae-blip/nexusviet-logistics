<!DOCTYPE html>
<html>
<head>
  <title>Track Shipment</title>
</head>
<body>

<h2>Shipment Tracking</h2>

<div id="result">Loading...</div>

<script>
const params = new URLSearchParams(window.location.search);
const tracking = params.get("tracking");

if (!tracking) {
  document.getElementById("result").innerText = "Tracking number not found.";
} else {
  fetch("https://script.google.com/macros/s/AKfycbwoyNzupluztEPyAKdm7jhu8RA-VZkBZ-dBb9Iyu6gDK0oEn_6DMrJgg5SQ6_GA_0wk/exec?tracking=" + tracking)
    .then(res => res.json())
    .then(data => {
      document.getElementById("result").innerHTML = `
        <p><b>Tracking No:</b> ${data.tracking_no}</p>
        <p><b>Status:</b> ${data.status}</p>
        <p><b>Route:</b> ${data.route}</p>
        <p><b>Flight Date:</b> ${data.flight_date}</p>

        <h3>Goods</h3>
        <p>${data.item_desc}</p>
        <p><b>Weight:</b> ${data.weight_kg} KG</p>

        <h3>Pricing</h3>
        <p>Handling Fee: ${data.handling_fee} MMK</p>
        <p>Rate: ${data.rate_mmk} MMK per KG</p>
        <p><b>Total:</b> ${data.total_mmk} MMK / ${data.total_vnd} VND</p>
      `;
    })
    .catch(() => {
      document.getElementById("result").innerText = "Tracking not found.";
    });
}
</script>

</body>
</html>
