<!DOCTYPE html>
<html>
<head>
  <title>Track Shipment</title>
</head>
<body>

<h2>Shipment Tracking</h2>
<div id="result">Loading...</div>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbwoyNzupluztEPyAKdm7jhu8RA-VZkBZ-dBb9Iyu6gDK0oEn_6DMrJgg5SQ6_GA_0wk/exec";
const tracking = new URLSearchParams(window.location.search).get("tracking");

fetch(API_URL + "?tracking=" + tracking)
  .then(r => r.text())
  .then(t => {
    if (t === "Not found") {
      result.innerText = "Tracking not found.";
      return;
    }
    const d = JSON.parse(t);
    result.innerHTML = `
      <p><b>Status:</b> ${d.status}</p>
      <p><b>Route:</b> ${d.route}</p>
      <p><b>Flight Date:</b> ${d.flight_date}</p>
      <p><b>Item:</b> ${d.item_desc}</p>
      <p><b>Weight:</b> ${d.weight_kg} KG</p>
      <p><b>Total:</b> ${d.total_mmk} MMK / ${d.total_vnd} VND</p>
    `;
  });
</script>

</body>
</html>
