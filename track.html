<!DOCTYPE html>
<html>
<style>
#timeline {
  list-style: none;
  padding-left: 0;
}

#timeline li {
  padding: 6px 0;
  color: #999;
}

#timeline li.active {
  color: #0a7d32;
  font-weight: bold;
}
</style>
  
<head>
  <title>Track Shipment</title>
</head>
<body>

<h2>Shipment Tracking</h2>
  <h3>Shipment Status</h3>

<ul id="timeline">
  <li id="received">Received</li>
  <li id="intransit">In Transit</li>
  <li id="arrived">Arrived</li>
  <li id="delivered">Delivered</li>
</ul>


<div id="result">Loading...</div>

<script>
const params = new URLSearchParams(window.location.search);
const tracking = params.get("tracking");

if (!tracking) {
  document.getElementById("result").innerText = "Tracking number not found.";
} else {
  fetch("https://script.google.com/macros/s/AKfycbwoyNzupluztEPyAKdm7jhu8RA-VZkBZ-dBb9Iyu6gDK0oEn_6DMrJgg5SQ6_GA_0wk/exec?tracking=" + tracking)
    .then(res => res.json())
    .then(data => {
      document.getElementById("result").innerHTML = `
        <p><b>Tracking No:</b> ${data.tracking_no}</p>
        <p><b>Status:</b> ${data.status}</p>const statusMap = {
  "Received": "received",
  "In Transit": "intransit",
  "Arrived": "arrived",
  "Delivered": "delivered"
};

const activeId = statusMap[status];
if (activeId) {
  document.getElementById(activeId).classList.add("active");
}
        <p><b>Route:</b> ${data.route}</p>
        <p><b>Flight Date:</b> ${data.flight_date}</p>

        <h3>Goods</h3>
        <p>${data.item_desc}</p>
        <p><b>Weight:</b> ${data.weight_kg} KG</p>

        <h3>Pricing</h3>
        <p>Item Fee: ${data.item_fee_mmk} MMK / ${data.item_fee_vnd} VND</p>
        <p>Rate: ${data.rate_mmk} MMK / ${data.rate_vnd} VND per KG</p>
        <p><b>Total:</b> ${data.total_mmk} MMK / ${data.total_vnd} VND</p>
      `;
    })
    .catch(() => {
      document.getElementById("result").innerText = "Tracking not found.";
    });
}
</script>

</body>
</html>
